可见性:
    一个线程对主内存的修改,可以及时的被其他线程观察到
导致共享变量不可见的原因:
    1. 线程交叉执行
    2. 重新排序结合线程交叉执行
    3. 共享变量更新后的值没有在工作内存和主内存及时的更新
可见性:JMM 关于synchronized的两条规定
    1. 线程解锁前,必须把共享变量刷新回主内存
    2. 线程加锁前,将清空工作内存中的值,重新从主内存中读取最新的值
可见性:volatile
    通过加入内存屏障和进制重排序优化来实现
    1. 在读取变量时,会在读操作之前加入一条load指令,将主内存中的值重新加载到工作区
    2. 在写变量时,会在写操作之后加入一条store指令,将工作内存中的值刷新回主内存
    volatile:不具有原子性
        1. 适合做状态标记量

可见性: